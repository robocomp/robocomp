<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IDSL &mdash; RoboComp 2.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> RoboComp
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RoboComp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>IDSL</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/IDSL.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="idsl">
<h1>IDSL<a class="headerlink" href="#idsl" title="Permalink to this headline"></a></h1>
<p>IDSL is  Interface Definition Language used to create and define interfaces in Robocomp. It is very close to Zeroc Ice’s IDSL.</p>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>IDSL permits comments in C and C++ style, starting with <code class="docutils literal notranslate"><span class="pre">//</span></code>.</p></li>
<li><p>IDSL uses a number of keywords, spelled in lowercase. For example, class and dictionary are keywords and must be written exactly as shown. Below is an list of keywords in IDSL:</p></li>
</ul>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-center head"><p>KeyWords</p></th>
<th class="text-center head"><p></p></th>
<th class="text-center head"><p></p></th>
<th class="text-center head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>bool</p></td>
<td class="text-center"><p>extends</p></td>
<td class="text-center"><p>string</p></td>
<td class="text-center"><p>byte</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>false</p></td>
<td class="text-center"><p>long</p></td>
<td class="text-center"><p>struct</p></td>
<td class="text-center"><p>float</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>module</p></td>
<td class="text-center"><p>throws</p></td>
<td class="text-center"><p>const</p></td>
<td class="text-center"><p>idempotent</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>true</p></td>
<td class="text-center"><p>dictionary</p></td>
<td class="text-center"><p>implements</p></td>
<td class="text-center"><p>void</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>double</p></td>
<td class="text-center"><p>int</p></td>
<td class="text-center"><p>out</p></td>
<td class="text-center"><p>enum</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>interface</p></td>
<td class="text-center"><p>sequence</p></td>
<td class="text-center"><p>exception</p></td>
<td class="text-center"><p>short</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Identifiers begin with an alphabetic character, followed by any number of alphabetic characters or digits. Underscores are also permitted in identifiers with the following limitations:</p>
<ul>
<li><p>an identifier cannot begin or end with an underscore.</p></li>
<li><p>an identifier cannot contain multiple consecutive underscores.</p></li>
</ul>
</li>
</ul>
<section id="modules">
<h3>Modules<a class="headerlink" href="#modules" title="Permalink to this headline"></a></h3>
<p>As in Zeroc Ice [<a class="reference external" href="https://doc.zeroc.com/ice/3.6/the-slice-language/modules">1</a>], modules are required, and used to prevent pollution of the global namespace. Modules have the following characteristics:</p>
<ul class="simple">
<li><p>They can contain any legal IDSL construct, including other module definitions.</p></li>
<li><p>IDSL requires all definitions to be nested inside a module, that is, you cannot define anything other than a module at global scope.</p></li>
<li><p>They can be reopened, even in different files. Such reopening can be useful for large projects. Modules map to a corresponding scoping construct in each programming language. For example, scopes in C++ and packages in Java.</p></li>
</ul>
</section>
<section id="types">
<h3>Types<a class="headerlink" href="#types" title="Permalink to this headline"></a></h3>
<p>It contains all standard C++ data types, such as,<code class="docutils literal notranslate"> <span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">byte</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">string</span></code>.</p>
<p>It supports C++ style <strong>Enumerator</strong>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>enum Fruit { Apple = 0, Pear = PearValue, Orange };
</pre></div>
</div>
<p>It supports C++ style <strong>struct</strong>, but they <strong>can’t</strong> be nested. It can contain any of the basic types including enum.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">short</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="kt">short</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">TwoPoints</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="n">Point</span><span class="w"> </span><span class="n">coord1</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">Point</span><span class="w"> </span><span class="n">coord2</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="sequence">
<h3>Sequence<a class="headerlink" href="#sequence" title="Permalink to this headline"></a></h3>
<p>Sequences are variable-length collections of elements. A sequence can be empty, or it can hold any number of elements up to the memory limits of your platform. Sequences can contain elements that are themselves sequences. This arrangement allows you to create lists of lists:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sequence&lt;Fruit&gt; FruitPlatter;
</pre></div>
</div>
<p>Sequences are used to model a variety of collections, such as vectors, lists, queues, sets, bags, or trees.</p>
</section>
<section id="dictionaries">
<h3>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline"></a></h3>
<p>A dictionary is a mapping from a key type to a value type.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Employee</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">number</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">firstName</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">lastName</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
<span class="w">     </span>
<span class="n">dictionary</span><span class="o">&lt;</span><span class="kt">long</span><span class="p">,</span><span class="w"> </span><span class="n">Employee</span><span class="o">&gt;</span><span class="w"> </span><span class="n">EmployeeMap</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>The value type of a dictionary can be any IDSL type. However, the key type of a dictionary is limited to one of the following types:</p>
<ul class="simple">
<li><p>Integral types (byte, short, int, long, bool).</p></li>
<li><p>string</p></li>
<li><p>enum</p></li>
<li><p>Structures containing only data members of allowed key types.</p></li>
</ul>
</section>
</section>
<section id="interfaces">
<h2>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this headline"></a></h2>
<p>IDSL interface is the core of what makes up Robocomp.</p>
<p>For communication between components to take place, you must invoke operations on a component’s proxy, which refers to an interface implemented in the component. To make the structure accessible, you must create an interface that allows clients to access the structure.</p>
<p>A component may implement one or more interfaces and each of those interfaces will have its unique proxy.</p>
<p>You can think of an interface definition as the equivalent of the public part of a C++ class definition, or a Java interface, and operation definitions as (virtual) member functions.</p>
<p>Note that nothing but operation definitions are allowed to appear inside an interface definition. In particular, you cannot define a type, an exception, or a data member inside an interface.</p>
<section id="operations">
<h3>Operations<a class="headerlink" href="#operations" title="Permalink to this headline"></a></h3>
<p>Operations are simply methods defined in the interface which can be invoked using a proxy to the interface.</p>
<p>An operation definition must contain a return type and parameter definitions (it can also be left empty). You must use void to indicate that an operation returns no value — there is no default return type for operations.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span><span class="w"> </span><span class="n">CircadianRhythm</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    	</span><span class="kt">void</span><span class="w"> </span><span class="nf">setSleepPeriod</span><span class="p">(</span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">startTime</span><span class="p">,</span><span class="w"> </span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">stopTime</span><span class="p">);</span><span class="w"></span>
<span class="w">    	</span><span class="c1">// ...</span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>The parameters can be either input or output. As with input parameters, you can use multiple output parameters. If you have both input and output parameters for an operation, the output parameters must follow the input parameters.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">changeSleepPeriod</span><span class="p">(</span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">startTime</span><span class="p">,</span><span class="w"> </span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">stopTime</span><span class="p">,</span><span class="w"> </span>
<span class="w">	</span><span class="n">out</span><span class="w"> </span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">prevStartTime</span><span class="p">,</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">prevStopTime</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<section id="overloading">
<h4>Overloading<a class="headerlink" href="#overloading" title="Permalink to this headline"></a></h4>
<p>IDSL does not support any form of overloading of operations.</p>
</section>
<section id="idempotent-operations">
<h4>Idempotent Operations<a class="headerlink" href="#idempotent-operations" title="Permalink to this headline"></a></h4>
<p>Idempotent Operations are operations that do not modify the state of the object they operate on. For example, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">1;</span></code> is an idempotent operation because it does not matter whether it is executed once or twice - either way, x ends up with the value 1. On the other hand, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">1;</span></code> is not an idempotent operation because executing it twice results in a different value for x than executing it once. By definition any read-only operation is idempotent.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span><span class="w"> </span><span class="n">Clock</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="n">idempotent</span><span class="w"> </span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">getTime</span><span class="p">();</span><span class="w"></span>
<span class="w">	</span><span class="n">idempotent</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">setTime</span><span class="p">(</span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">time</span><span class="p">);</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>The idempotent keyword is useful because it allows the Ice compiler to be more aggressive when performing automatic retries to recover from errors.</p>
</section>
</section>
<section id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline"></a></h3>
<p>You can specify a default value for an exception data member.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">exception</span><span class="w"> </span><span class="n">RangeError</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">errorTime</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">string</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;out of range&quot;</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>Exceptions allow you to return an arbitrary amount of error information to the client if an error condition arises in the implementation of an operation.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span><span class="w"> </span><span class="n">Clock</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="n">idempotent</span><span class="w"> </span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">getTime</span><span class="p">();</span><span class="w"></span>
<span class="w">      	</span><span class="n">idempotent</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">setTime</span><span class="p">(</span><span class="n">TimeOfDay</span><span class="w"> </span><span class="n">timep</span><span class="p">)</span><span class="w"></span>
<span class="w">        	</span><span class="k">throws</span><span class="w"> </span><span class="n">RangeError</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>An operation can throw only those user exceptions that are listed in its exception specification. If at run time, the implementation of an operation throws an exception that is not listed in its exception specification, the client receives a run-time exception.</p>
<section id="restrictions-for-user-exceptions">
<h4>Restrictions for User Exceptions<a class="headerlink" href="#restrictions-for-user-exceptions" title="Permalink to this headline"></a></h4>
<ul class="simple">
<li><p>Exceptions are not first-class data types and first-class data types are not exceptions.</p></li>
<li><p>You cannot pass an exception as a parameter value.</p></li>
<li><p>You cannot use an exception as the type of a data member.</p></li>
<li><p>You cannot use an exception as the element type of a sequence.</p></li>
<li><p>You cannot use an exception as the key or value type of a dictionary.</p></li>
<li><p>You cannot throw a value of non-exception type (such as a value of type int or string).</p></li>
</ul>
</section>
<section id="example-of-user-exception-inheritance">
<h4>Example of User Exception Inheritance<a class="headerlink" href="#example-of-user-exception-inheritance" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">exception</span><span class="w"> </span><span class="n">ErrorBase</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="n">string</span><span class="w"> </span><span class="n">reason</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="n">exception</span><span class="w"> </span><span class="n">RuntimeError</span><span class="w"> </span><span class="n">extends</span><span class="w"> </span><span class="n">ErrorBase</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">RTError</span><span class="w"> </span><span class="n">err</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="inheritance">
<h2>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, RoboLab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>