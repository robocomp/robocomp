<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>To move a bot in square and circle &mdash; RoboComp 2.0 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> RoboComp
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../README.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">RoboComp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>To move a bot in square and circle</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/code-examples/getting-started/python/moving-robot-in-a-square-and-circle-python.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="to-move-a-bot-in-square-and-circle">
<h1>To move a bot in square and circle<a class="headerlink" href="#to-move-a-bot-in-square-and-circle" title="Permalink to this headline"></a></h1>
<p>I will just post the important steps that is to be followed in detail steps of python component generation can be found in <span class="xref myst">here</span>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd place/where/component/has/to/be/created
mkdir pysquare
cd pysquare
robocompdsl pysquare.cdsl
</pre></div>
</div>
<p>You have now generated a dummy cdsl file</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gedit pysquare.cdsl
</pre></div>
</div>
<p>Change the dummy code that is there to the given below. Here you will be importing DIfferentialRobot interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import &quot;/robocomp/interfaces/IDSLs/DifferentialRobot.idsl&quot;;
Component pysquare
{
	Communications{
		requires DifferentialRobot;

	};
	language Python;
};
</pre></div>
</div>
<p>save and close the file and execute</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>robocompdsl pysquare.cdsl build
</pre></div>
</div>
<p>This command will generate the python code in a new folder in this case the build directory.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd build
</pre></div>
</div>
<p>Here you will find the folders etc and src. etc contains the config file which is required for Ice and src contains the src folder where you will be programming your bot</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd src
gedit specificworker.py
</pre></div>
</div>
<p>Here in the compute() function you will write the desired algorithm for simulation of the bot. To move it in a square we use DifferentialRobot’s setSpeedBase function.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>self.differentialrobot_proxy.setSpeedBase(100, 0)
</pre></div>
</div>
<p>This will set the speed of the bot to 100 and 0 radians per second. So to move it in a square the entire algorithm will be</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>self.differentialrobot_proxy.setSpeedBase(100, 0)
time.delay(1)
self.differentialrobot_proxy.setSpeedBase(10, 1.5707)
time.delay(1)
</pre></div>
</div>
<p>In the above code 1.5705 is ntn but 90 degrees written in radians per second and a 1 second delay is introduced or each setSpeedBase will execute for a second. Now you compute function should look like this</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def compute(self):
	print(&#39;SpecificWorker.compute...&#39;)
	try:
		self.differentialrobot_proxy.setSpeedBase(100, 0)
		time.sleep(1)
		self.differentialrobot_proxy.setSpeedBase(10, 1.5707)
		time.sleep(1)
	except Ice.Exception as e:
		traceback.print_exc()
		print(e)
	return True
</pre></div>
</div>
<p>After you have written the algorithm as desired you can save the code and come back to the build folder</p>
<p>To simulate the code we need a scenario or a innermodel for this we open a new tab in the terminal and execute</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd robocomp/files/innermodel
rcis simpleworld.xml
</pre></div>
</div>
<p>now come back to build folder or the previous tab and execute</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python src/pysquare.py --Ice.Config=etc/config
</pre></div>
</div>
<p>this should run the component and you will be able to see the bot moving in a square.</p>
<p>Now that you have understood and created a basic python component you can now extend this code and make it move in a circle. The algorithm is as follows</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>self.differentialrobot_proxy.setSpeedBase(10, 0.87)
time.sleep(0.5)
</pre></div>
</div>
<p>Svae the component and run it similarly as you did for square. The code for the entire component can be found <a class="reference external" href="https://github.com/rajathkumarmp/RoboComp-Python-Components">here</a></p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, RoboLab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>